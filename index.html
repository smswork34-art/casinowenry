<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lucky Duck Casino</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script type="module" src="supabase/client.js"></script>
</head>
<body>
    <div class="container">
        <!-- –õ–µ–≤—ã–π —Å–∞–π–¥–±–∞—Ä -->
        <aside class="sidebar">
            <div class="logo">Crash</div>
            <nav class="menu">
                <ul>
                    <li><a href="crash.html" class="active">Crash</a></li>
                    <li><a href="#">Pinko</a></li>
                    <li><a href="#">Miner</a></li>
                    <li><a href="#">Cookies</a></li>
                    <li><a href="#">Nuts</a></li>
                    <li><a href="#">Keno</a></li>
                    <li><a href="#">Coinflip</a></li>
                    <li><a href="#">–ë–æ–Ω—É—Å—ã</a></li>
                    <li><a href="#">–ü–∞—Ä—Ç–Ω–µ—Ä–∫–∞</a></li>
                    <li><a href="#">–ü–æ–º–æ—â—å</a></li>
                    <li><a href="#">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
                </ul>
            </nav>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main">
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
            <header class="top-bar">
                <div class="user-info">
                    <span class="username">Lucky Duck</span>
                    <div class="balance">
                        –ë–∞–ª–∞–Ω—Å: <span id="balance">0 ‚ÇΩ</span>
                    </div>
                </div>
                <div class="auth-buttons">
                    <button class="btn-login">–í—Ö–æ–¥</button>
                    <button class="btn-register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
            </header>

            <!-- –ò–≥—Ä–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã -->
            <div class="games-grid">
                <a href="crash.html" class="game-card">
                    <div class="game-icon">üöÄ</div>
                    <h3>Crash</h3>
                    <p>–ò–≥—Ä–∞ –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—å</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">üéØ</div>
                    <h3>Pinko</h3>
                    <p>–ü–∞–¥–∞—é—â–∏–µ —à–∞—Ä—ã</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">‚õèÔ∏è</div>
                    <h3>Miner</h3>
                    <p>–î–æ–±—ã—á–∞ –∫—Ä–∏–ø—Ç—ã</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">üç™</div>
                    <h3>Cookies</h3>
                    <p>–ö–ª–∏–∫–µ—Ä-–∏–≥—Ä–∞</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">ü•ú</div>
                    <h3>Nuts</h3>
                    <p>–ê–∑–∞—Ä—Ç–Ω–∞—è –∏–≥—Ä–∞</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">üé≤</div>
                    <h3>Keno</h3>
                    <p>–õ–æ—Ç–µ—Ä–µ—è</p>
                </a>
                <a href="#" class="game-card">
                    <div class="game-icon">ü™ô</div>
                    <h3>Coinflip</h3>
                    <p>–û—Ä—ë–ª –∏–ª–∏ —Ä–µ—à–∫–∞</p>
                </a>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è -->
            <div class="deposit-section">
                <button id="deposit-btn" class="btn-deposit">üí≥ –ü–æ–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –°–ë–ü</button>
            </div>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ (—Å—Ç–∞—Ç–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä) -->
            <div class="recent-bets">
                <h4>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞–≤–∫–∏</h4>
                <ul id="recent-bets-list">
                    <li>–ò–≥—Ä–æ–∫1: 100 ‚ÇΩ ‚Üí x2.5</li>
                    <li>–ò–≥—Ä–æ–∫2: 50 ‚ÇΩ ‚Üí x1.8</li>
                    <li>–ò–≥—Ä–æ–∫3: 200 ‚ÇΩ ‚Üí x10.2</li>
                </ul>
            </div>
        </main>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadBalance() {
            // TODO: –ó–∞–ø—Ä–æ—Å –∫ Supabase –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
            const user = await supabase.getUser();
            if (user) {
                document.getElementById('balance').textContent = user.balance + ' ‚ÇΩ';
            }
        }

        // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
        document.getElementById('deposit-btn').addEventListener('click', () => {
            window.location.href = 'payment.html';
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            loadBalance();
        });
    </script>
</body>
</html>
